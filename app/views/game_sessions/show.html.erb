<!-- app/views/sessions/qr.html.erb -->

<div class="container text-center">

  <h1>Join <%= current_user.name %>'s Crowd Karaoke by scanning the QR code!</h1>

  <!--
  <div class="mb-4">
    <h2 style="color: white">Scan this QR to join:</h2>
  </div>
  -->

  <%# Generate an inline SVG from @qr: %>
  <div class="row">
  <div class="col offset-md-1 justify-content-end">
    <%= raw @qrcode.as_svg(
        offset: 0,
        color: :white,
        shape_rendering: "crispEdges",
        module_size: 8,
        standalone: true
      ) %>
  </div>


  <div class="col justify-content-start">
    <div class="text-start">
      <div id="guest-count">
        <%= render 'guest_count', session: @session %>
      </div>
    </div>
    <div class="text-start">
      <div id="guest-list">
        <%= render 'guest_list', session: @session %>
      </div>
    </div>
  </div>

</div>

<!-- The link
<div class="mt-3">
  <strong>UUID:</strong>
  <%= @session.uuid %>
</div>
-->


  <%= turbo_stream_from "game_session_#{@session.uuid}_host" %>

  <div id="start-button" class="my-5 pb-5">
    <%= render 'start_button', session: @session, can_start: @session.guests.any?, style: "btn btn-outline-light goto_bt" %>
  </div>


</div>
